$date
	Fri Jul 04 14:23:37 2025
$end
$version
	ModelSim Version 10.1d
$end
$timescale
	1ps
$end
$scope module elevator_tb $end
$var parameter 32 ! FLOOR_MIN $end
$var parameter 32 " FLOOR_MAX $end
$var parameter 32 # CLK_PERIOD $end
$var reg 1 $ clk $end
$var reg 1 % rst $end
$var reg 8 & internal_req [7:0] $end
$var reg 8 ' external_up_req [7:0] $end
$var reg 8 ( external_down_req [7:0] $end
$var wire 1 ) current_floor [3] $end
$var wire 1 * current_floor [2] $end
$var wire 1 + current_floor [1] $end
$var wire 1 , current_floor [0] $end
$var wire 1 - door_state $end
$var wire 1 . elevator_state [1] $end
$var wire 1 / elevator_state [0] $end
$scope function elevator_state_desc $end
$var reg 32 0 elevator_state_desc [31:0] $end
$var reg 2 1 state [1:0] $end
$upscope $end
$scope module uut $end
$var parameter 32 2 FLOOR_MIN $end
$var parameter 32 3 FLOOR_MAX $end
$var parameter 32 4 TIME_MOVE $end
$var parameter 32 5 TIME_DOOR_OPEN $end
$var parameter 32 6 TIME_DOOR_HOLD $end
$var parameter 32 7 TIME_DOOR_CLOSE $end
$var parameter 3 8 IDLE $end
$var parameter 3 9 MOVE_UP $end
$var parameter 3 : MOVE_DOWN $end
$var parameter 3 ; DOOR_OPENING $end
$var parameter 3 < DOOR_HOLD $end
$var parameter 3 = DOOR_CLOSING $end
$var wire 1 > clk $end
$var wire 1 ? rst $end
$var wire 1 @ internal_req [7] $end
$var wire 1 A internal_req [6] $end
$var wire 1 B internal_req [5] $end
$var wire 1 C internal_req [4] $end
$var wire 1 D internal_req [3] $end
$var wire 1 E internal_req [2] $end
$var wire 1 F internal_req [1] $end
$var wire 1 G internal_req [0] $end
$var wire 1 H external_up_req [7] $end
$var wire 1 I external_up_req [6] $end
$var wire 1 J external_up_req [5] $end
$var wire 1 K external_up_req [4] $end
$var wire 1 L external_up_req [3] $end
$var wire 1 M external_up_req [2] $end
$var wire 1 N external_up_req [1] $end
$var wire 1 O external_up_req [0] $end
$var wire 1 P external_down_req [7] $end
$var wire 1 Q external_down_req [6] $end
$var wire 1 R external_down_req [5] $end
$var wire 1 S external_down_req [4] $end
$var wire 1 T external_down_req [3] $end
$var wire 1 U external_down_req [2] $end
$var wire 1 V external_down_req [1] $end
$var wire 1 W external_down_req [0] $end
$var reg 4 X current_floor [3:0] $end
$var reg 1 Y door_state $end
$var reg 2 Z elevator_state [1:0] $end
$var reg 3 [ state [2:0] $end
$var reg 3 \ next_state [2:0] $end
$var reg 8 ] req_queue [7:0] $end
$var reg 4 ^ target_floor [3:0] $end
$var reg 4 _ timer [3:0] $end
$var reg 1 ` timer_en $end
$var reg 1 a direction $end
$var reg 8 b prev_internal_req [7:0] $end
$var reg 8 c prev_external_up_req [7:0] $end
$var reg 8 d prev_external_down_req [7:0] $end
$var wire 1 e new_internal_req [7] $end
$var wire 1 f new_internal_req [6] $end
$var wire 1 g new_internal_req [5] $end
$var wire 1 h new_internal_req [4] $end
$var wire 1 i new_internal_req [3] $end
$var wire 1 j new_internal_req [2] $end
$var wire 1 k new_internal_req [1] $end
$var wire 1 l new_internal_req [0] $end
$var wire 1 m new_external_up_req [7] $end
$var wire 1 n new_external_up_req [6] $end
$var wire 1 o new_external_up_req [5] $end
$var wire 1 p new_external_up_req [4] $end
$var wire 1 q new_external_up_req [3] $end
$var wire 1 r new_external_up_req [2] $end
$var wire 1 s new_external_up_req [1] $end
$var wire 1 t new_external_up_req [0] $end
$var wire 1 u new_external_down_req [7] $end
$var wire 1 v new_external_down_req [6] $end
$var wire 1 w new_external_down_req [5] $end
$var wire 1 x new_external_down_req [4] $end
$var wire 1 y new_external_down_req [3] $end
$var wire 1 z new_external_down_req [2] $end
$var wire 1 { new_external_down_req [1] $end
$var wire 1 | new_external_down_req [0] $end
$scope begin up_loop $end
$var integer 32 } i $end
$upscope $end
$scope begin down_loop $end
$var integer 32 ~ i $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
0$
1%
b0 &
b0 '
b0 (
b1 X
0Y
b0 Z
b0 [
b0 \
b0 ]
bx ^
b0 _
0`
1a
b0 b
b0 c
b0 d
bx 0
bx 1
b1 !
b1000 "
b1010 #
b1 2
b1000 3
b101 4
b101 5
b101 6
b101 7
b0 8
b1 9
b10 :
b11 ;
b100 <
b101 =
bx }
bx ~
1,
0+
0*
0)
0-
0/
0.
0l
0k
0j
0i
0h
0g
0f
0e
0t
0s
0r
0q
0p
0o
0n
0m
0|
0{
0z
0y
0x
0w
0v
0u
0W
0V
0U
0T
0S
0R
0Q
0P
0O
0N
0M
0L
0K
0J
0I
0H
0G
0F
0E
0D
0C
0B
0A
0@
1?
0>
$end
#5
1$
1>
#10
0$
0>
#15
1$
1>
#20
0%
b0 1
b1001001011001000110110001100101 0
0$
0?
0>
#25
1$
1>
#30
b1000 &
0$
1D
1i
0>
#35
1$
1>
b1000 b
b1000 ]
0i
b1 ^
b111 }
b110 }
b101 }
b100 }
b11 }
b100 ^
b1 \
#40
0$
0>
#45
1$
1>
b1 [
b1 Z
1`
b10 X
b101 _
0,
1+
1/
b1 1
b101010101110000 0
#50
0$
0>
#55
1$
1>
b100 _
0`
1`
#60
0$
0>
#65
1$
1>
b11 _
0`
1`
#70
0$
0>
#75
1$
1>
b10 _
0`
1`
#80
0$
0>
#85
1$
1>
b1 _
0`
1`
#90
0$
0>
#95
1$
1>
b0 _
0`
1`
b11 X
b101 _
1,
#100
0$
0>
#105
1$
1>
b100 _
0`
1`
#110
0$
0>
#115
1$
1>
b11 _
0`
1`
#120
0$
0>
#125
1$
1>
b10 _
0`
1`
#130
b0 &
0$
0D
0>
#135
1$
1>
b0 b
b1 _
0`
1`
#140
0$
0>
#145
1$
1>
b0 _
0`
1`
b100 X
b0 ]
b11 \
b101 _
0,
0+
1*
#150
0$
0>
#155
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0/
b0 1
b1001001011001000110110001100101 0
#160
0$
0>
#165
1$
1>
b11 _
0`
1`
#170
0$
0>
#175
1$
1>
b10 _
0`
1`
#180
b100000 '
0$
1J
1o
0>
#185
1$
1>
b100000 c
b1 _
b100000 ]
0o
0`
1`
#190
b10 &
0$
1F
1k
0>
#195
1$
1>
b10 b
b0 _
b100010 ]
0k
0`
1`
1Y
b100 \
b101 _
1-
#200
0$
0>
#205
1$
1>
b100 [
b100 _
0`
1`
#210
0$
0>
#215
1$
1>
b11 _
0`
1`
#220
0$
0>
#225
1$
1>
b10 _
0`
1`
#230
0$
0>
#235
1$
1>
b1 _
0`
1`
#240
0$
0>
#245
1$
1>
b0 _
0`
1`
b101 \
b101 _
#250
0$
0>
#255
1$
1>
b101 [
b100 _
0`
1`
#260
0$
0>
#265
1$
1>
b11 _
0`
1`
#270
0$
0>
#275
1$
1>
b10 _
0`
1`
#280
0$
0>
#285
1$
1>
b1 _
0`
1`
#290
0$
0>
#295
1$
1>
b0 _
0`
1`
0Y
b0 \
0-
#300
0$
0>
#305
1$
1>
b0 [
0`
b111 }
b110 }
b101 }
b110 ^
b1 \
#310
0$
0>
#315
1$
1>
b1 [
b1 Z
1`
b101 X
b101 _
1,
1/
b1 1
b101010101110000 0
#320
0$
0>
#325
1$
1>
b100 _
0`
1`
#330
0$
0>
#335
1$
1>
b11 _
0`
1`
#340
0$
0>
#345
1$
1>
b10 _
0`
1`
#350
0$
0>
#355
1$
1>
b1 _
0`
1`
#360
0$
0>
#365
1$
1>
b0 _
0`
1`
b110 X
b10 ]
b11 \
b101 _
0,
1+
#370
0$
0>
#375
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0/
b0 1
b1001001011001000110110001100101 0
#380
0$
0>
#385
1$
1>
b11 _
0`
1`
#390
b0 '
b0 &
0$
0F
0J
0>
#395
1$
1>
b0 b
b0 c
b10 _
0`
1`
#400
0$
0>
#405
1$
1>
b1 _
0`
1`
#410
0$
0>
#415
1$
1>
b0 _
0`
1`
1Y
b100 \
b101 _
1-
#420
0$
0>
#425
1$
1>
b100 [
b100 _
0`
1`
#430
0$
0>
#435
1$
1>
b11 _
0`
1`
#440
b100 (
0$
1U
1z
0>
#445
1$
1>
b100 d
b10 _
b110 ]
0z
0`
1`
#450
0$
0>
#455
1$
1>
b1 _
0`
1`
#460
0$
0>
#465
1$
1>
b0 _
0`
1`
b101 \
b101 _
#470
0$
0>
#475
1$
1>
b101 [
b100 _
0`
1`
#480
0$
0>
#485
1$
1>
b11 _
0`
1`
#490
0$
0>
#495
1$
1>
b10 _
0`
1`
#500
0$
0>
#505
1$
1>
b1 _
0`
1`
#510
0$
0>
#515
1$
1>
b0 _
0`
1`
0Y
b0 \
0a
0-
#520
0$
0>
#525
1$
1>
b0 [
0`
b111 ~
b110 ~
b101 ~
b100 ~
b11 ~
b10 ~
b11 ^
b10 \
#530
0$
0>
#535
1$
1>
b10 [
b10 Z
1`
b101 X
b101 _
1,
0+
1.
b10 1
b1000100011011110111011101101110 0
#540
0$
0>
#545
1$
1>
b100 _
0`
1`
#550
0$
0>
#555
1$
1>
b11 _
0`
1`
#560
0$
0>
#565
1$
1>
b10 _
0`
1`
#570
0$
0>
#575
1$
1>
b1 _
0`
1`
#580
0$
0>
#585
1$
1>
b0 _
0`
1`
b100 X
b101 _
0,
#590
b0 (
0$
0U
0>
#595
1$
1>
b0 d
b100 _
0`
1`
#600
0$
0>
#605
1$
1>
b11 _
0`
1`
#610
0$
0>
#615
1$
1>
b10 _
0`
1`
#620
0$
0>
#625
1$
1>
b1 _
0`
1`
#630
0$
0>
#635
1$
1>
b0 _
0`
1`
b11 X
b10 ]
b11 \
b101 _
1,
1+
0*
#640
b1 &
0$
1G
1l
0>
#645
1$
1>
b11 [
b1 b
b100 _
b11 ]
0l
0`
b0 Z
1`
0.
b0 1
b1001001011001000110110001100101 0
#650
b10001 &
0$
1C
1h
0>
#655
1$
1>
b10001 b
b11 _
b10011 ]
0h
0`
1`
#660
b10010001 &
0$
1@
1e
0>
#665
1$
1>
b10010001 b
b10 _
b10010011 ]
0e
0`
1`
#670
0$
0>
#675
1$
1>
b1 _
0`
1`
#680
0$
0>
#685
1$
1>
b0 _
0`
1`
1Y
b100 \
b101 _
1-
#690
0$
0>
#695
1$
1>
b100 [
b100 _
0`
1`
#700
0$
0>
#705
1$
1>
b11 _
0`
1`
#710
0$
0>
#715
1$
1>
b10 _
0`
1`
#720
0$
0>
#725
1$
1>
b1 _
0`
1`
#730
0$
0>
#735
1$
1>
b0 _
0`
1`
b101 \
b101 _
#740
0$
0>
#745
1$
1>
b101 [
b100 _
0`
1`
#750
0$
0>
#755
1$
1>
b11 _
0`
1`
#760
0$
0>
#765
1$
1>
b10 _
0`
1`
#770
0$
0>
#775
1$
1>
b1 _
0`
1`
#780
0$
0>
#785
1$
1>
b0 _
0`
1`
0Y
b0 \
0-
#790
0$
0>
#795
1$
1>
b0 [
0`
b111 ~
b110 ~
b101 ~
b100 ~
b11 ~
b10 ~
b1 ~
b10 ^
b10 \
#800
0$
0>
#805
1$
1>
b10 [
b10 Z
1`
b10 X
b10010001 ]
b11 \
b101 _
0,
1.
b10 1
b1000100011011110111011101101110 0
#810
0$
0>
#815
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0.
b0 1
b1001001011001000110110001100101 0
#820
0$
0>
#825
1$
1>
b11 _
0`
1`
#830
0$
0>
#835
1$
1>
b10 _
0`
1`
#840
0$
0>
#845
1$
1>
b1 _
0`
1`
#850
0$
0>
#855
1$
1>
b0 _
0`
1`
1Y
b100 \
b101 _
1-
#860
b10010000 &
b10000000 &
b0 &
0$
0G
0C
0@
0>
#865
1$
1>
b100 [
b0 b
b100 _
0`
1`
#870
0$
0>
#875
1$
1>
b11 _
0`
1`
#880
0$
0>
#885
1$
1>
b10 _
0`
1`
#890
0$
0>
#895
1$
1>
b1 _
0`
1`
#900
0$
0>
#905
1$
1>
b0 _
0`
1`
b101 \
b101 _
#910
b1000000 '
b100 (
0$
1U
1I
1n
1z
0>
#915
1$
1>
b101 [
b1000000 c
b100 d
b100 _
b11010101 ]
0z
0n
0`
1`
#920
0$
0>
#925
1$
1>
b11 _
0`
1`
#930
0$
0>
#935
1$
1>
b10 _
0`
1`
#940
0$
0>
#945
1$
1>
b1 _
0`
1`
#950
0$
0>
#955
1$
1>
b0 _
0`
1`
0Y
b0 \
0-
#960
0$
0>
#965
1$
1>
b0 [
0`
b111 ~
b110 ~
b101 ~
b100 ~
b11 ~
b10 ~
b1 ~
b0 ~
b1 ^
b10 \
#970
0$
0>
#975
1$
1>
b10 [
b10 Z
1`
b1 X
b11010100 ]
b11 \
b101 _
1,
0+
1.
b10 1
b1000100011011110111011101101110 0
#980
0$
0>
#985
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0.
b0 1
b1001001011001000110110001100101 0
#990
0$
0>
#995
1$
1>
b11 _
0`
1`
#1000
0$
0>
#1005
1$
1>
b10 _
0`
1`
#1010
0$
0>
#1015
1$
1>
b1 _
0`
1`
#1020
0$
0>
#1025
1$
1>
b0 _
0`
1`
1Y
b100 \
b101 _
1-
#1030
0$
0>
#1035
1$
1>
b100 [
b100 _
0`
1`
#1040
0$
0>
#1045
1$
1>
b11 _
0`
1`
#1050
0$
0>
#1055
1$
1>
b10 _
0`
1`
#1060
0$
0>
#1065
1$
1>
b1 _
0`
1`
#1070
0$
0>
#1075
1$
1>
b0 _
0`
1`
b101 \
b101 _
#1080
0$
0>
#1085
1$
1>
b101 [
b100 _
0`
1`
#1090
0$
0>
#1095
1$
1>
b11 _
0`
1`
#1100
0$
0>
#1105
1$
1>
b10 _
0`
1`
#1110
b0 '
b0 (
0$
0U
0I
0>
#1115
1$
1>
b0 c
b0 d
b1 _
0`
1`
#1120
0$
0>
#1125
1$
1>
b0 _
0`
1`
0Y
b0 \
1a
0-
#1130
0$
0>
#1135
1$
1>
b0 [
0`
b111 }
b1000 ^
b1 \
#1140
0$
0>
#1145
1$
1>
b1 [
b1 Z
1`
b10 X
b101 _
0,
1+
1/
b1 1
b101010101110000 0
#1150
0$
0>
#1155
1$
1>
b100 _
0`
1`
#1160
b1 (
0$
1W
1|
0>
#1165
1$
1>
b1 d
b11 _
b11010101 ]
0|
0`
1`
#1170
b10000000 '
0$
1H
1m
0>
#1175
1$
1>
b10000000 c
b10 _
0m
0`
1`
#1180
0$
0>
#1185
1$
1>
b1 _
0`
1`
#1190
0$
0>
#1195
1$
1>
b0 _
0`
1`
b11 X
b101 _
1,
#1200
0$
0>
#1205
1$
1>
b100 _
0`
1`
#1210
0$
0>
#1215
1$
1>
b11 _
0`
1`
#1220
0$
0>
#1225
1$
1>
b10 _
0`
1`
#1230
0$
0>
#1235
1$
1>
b1 _
0`
1`
#1240
0$
0>
#1245
1$
1>
b0 _
0`
1`
b100 X
b101 _
0,
0+
1*
#1250
0$
0>
#1255
1$
1>
b100 _
0`
1`
#1260
0$
0>
#1265
1$
1>
b11 _
0`
1`
#1270
0$
0>
#1275
1$
1>
b10 _
0`
1`
#1280
0$
0>
#1285
1$
1>
b1 _
0`
1`
#1290
0$
0>
#1295
1$
1>
b0 _
0`
1`
b101 X
b101 _
1,
#1300
0$
0>
#1305
1$
1>
b100 _
0`
1`
#1310
0$
0>
#1315
1$
1>
b11 _
0`
1`
#1320
0$
0>
#1325
1$
1>
b10 _
0`
1`
#1330
0$
0>
#1335
1$
1>
b1 _
0`
1`
#1340
0$
0>
#1345
1$
1>
b0 _
0`
1`
b110 X
b101 _
0,
1+
#1350
0$
0>
#1355
1$
1>
b100 _
0`
1`
#1360
0$
0>
#1365
1$
1>
b11 _
0`
1`
#1370
b0 (
b0 '
0$
0H
0W
0>
#1375
1$
1>
b0 c
b0 d
b10 _
0`
1`
#1380
0$
0>
#1385
1$
1>
b1 _
0`
1`
#1390
0$
0>
#1395
1$
1>
b0 _
0`
1`
b111 X
b101 _
1,
#1400
0$
0>
#1405
1$
1>
b100 _
0`
1`
#1410
0$
0>
#1415
1$
1>
b11 _
0`
1`
#1420
b10 &
0$
1F
1k
0>
#1425
1$
1>
b10 b
b10 _
b11010111 ]
0k
0`
1`
#1430
b1000 '
0$
1L
1q
0>
#1435
1$
1>
b1000 c
b1 _
b11011111 ]
0q
0`
1`
#1440
b100000 (
0$
1R
1w
0>
#1445
1$
1>
b100000 d
b0 _
b11111111 ]
0w
0`
1`
b1000 X
b1111111 ]
b11 \
b101 _
0,
0+
0*
1)
#1450
0$
0>
#1455
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0/
b0 1
b1001001011001000110110001100101 0
#1460
0$
0>
#1465
1$
1>
b11 _
0`
1`
#1470
0$
0>
#1475
1$
1>
b10 _
0`
1`
#1480
0$
0>
#1485
1$
1>
b1 _
0`
1`
#1490
0$
0>
#1495
1$
1>
b0 _
0`
1`
1Y
b100 \
b101 _
1-
#1500
0$
0>
#1505
1$
1>
b100 [
b100 _
0`
1`
#1510
0$
0>
#1515
1$
1>
b11 _
0`
1`
#1520
0$
0>
#1525
1$
1>
b10 _
0`
1`
#1530
0$
0>
#1535
1$
1>
b1 _
0`
1`
#1540
0$
0>
#1545
1$
1>
b0 _
0`
1`
b101 \
b101 _
#1550
0$
0>
#1555
1$
1>
b101 [
b100 _
0`
1`
#1560
0$
0>
#1565
1$
1>
b11 _
0`
1`
#1570
0$
0>
#1575
1$
1>
b10 _
0`
1`
#1580
0$
0>
#1585
1$
1>
b1 _
0`
1`
#1590
0$
0>
#1595
1$
1>
b0 _
0`
1`
0Y
b0 \
0a
0-
#1600
0$
0>
#1605
1$
1>
b0 [
0`
b111 ~
b110 ~
b111 ^
b10 \
#1610
0$
0>
#1615
1$
1>
b10 [
b10 Z
1`
b111 X
b111111 ]
b11 \
b101 _
1,
1+
1*
0)
1.
b10 1
b1000100011011110111011101101110 0
#1620
0$
0>
#1625
1$
1>
b11 [
b100 _
0`
b0 Z
1`
0.
b0 1
b1001001011001000110110001100101 0
#1630
0$
0>
#1635
1$
1>
b11 _
0`
1`
#1640
b0 &
